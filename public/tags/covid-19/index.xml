<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>COVID-19 | Megha</title>
    <link>/tags/covid-19/</link>
      <atom:link href="/tags/covid-19/index.xml" rel="self" type="application/rss+xml" />
    <description>COVID-19</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Sat, 18 Apr 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/icon-192.png</url>
      <title>COVID-19</title>
      <link>/tags/covid-19/</link>
    </image>
    
    <item>
      <title>COVID-19</title>
      <link>/post/coronavirus/</link>
      <pubDate>Sat, 18 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/coronavirus/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/pymjs/pym.v1.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/widgetframe-binding/widgetframe.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;In this post, I am analyzing data on COVID-19 cases worldwide. The data that I am analyzing only accounts for reported cases. Due to the lack of availability and accessibility of testing in countries like the US, the numbers may be an underestimate of the actual number of cases, number of deaths, and number of recoveries. The data does not account for any other errors of measurement.&lt;/p&gt;
&lt;div id=&#34;libraries&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Libraries&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(maps)
library(ggthemes)
library(jsonlite)
library(leaflet)
library(widgetframe)
library(lubridate)
library(scales)
library(ggrepel)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;read-in-the-data&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Read in the Data&lt;/h1&gt;
&lt;p&gt;I downloaded the data from &lt;a href=&#34;https://github.com/CSSEGISandData/COVID-19&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;confirmed &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv&amp;quot;) %&amp;gt;%
  pivot_longer(cols = -c(1:4),
               names_to = &amp;quot;date&amp;quot;,
               values_to = &amp;quot;confirmed&amp;quot;)

deaths &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv&amp;quot;) %&amp;gt;%
  pivot_longer(cols = -c(1:4),
               names_to = &amp;quot;date&amp;quot;,
               values_to = &amp;quot;deaths&amp;quot;)

recovered &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv&amp;quot;) %&amp;gt;%
  pivot_longer(cols = -c(1:4),
               names_to = &amp;quot;date&amp;quot;,
               values_to = &amp;quot;recoveries&amp;quot;)

# Join and Clean 
dat &amp;lt;- left_join(confirmed, deaths) %&amp;gt;%
  left_join(recovered) %&amp;gt;%
  mutate(date = mdy(date),
         lab = paste0(&amp;quot;Confirmed: &amp;quot;, confirmed, &amp;quot;, &amp;quot;, &amp;quot;Deaths: &amp;quot;, deaths, &amp;quot;, &amp;quot;, &amp;quot;Recovered: &amp;quot;, recoveries)) %&amp;gt;%
  rename(country_region = `Country/Region`)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;coronavirus-confirmed-cases&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Coronavirus Confirmed Cases&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;covid_leaf &amp;lt;- leaflet(data = dat, 
                      options = leafletOptions(minZoom = 1.5)) %&amp;gt;% 
  addProviderTiles(providers$CartoDB.DarkMatter)  %&amp;gt;%
  addCircleMarkers(~Long, ~Lat, 
                   radius = ~confirmed/10000, 
                   label = ~lab, 
                   fillOpacity = .2)

frameWidget(covid_leaf)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:100%;height:480px;&#34; class=&#34;widgetframe html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;url&#34;:&#34;/post/Coronavirus_files/figure-html//widgets/widget_unnamed-chunk-3.html&#34;,&#34;options&#34;:{&#34;xdomain&#34;:&#34;*&#34;,&#34;allowfullscreen&#34;:false,&#34;lazyload&#34;:false}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;cases-by-week&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Cases by Week&lt;/h1&gt;
&lt;div id=&#34;confirmed&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Confirmed&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country_dat &amp;lt;- dat %&amp;gt;%
  filter(country_region %in% c(&amp;quot;China&amp;quot;, &amp;quot;Italy&amp;quot;, &amp;quot;Iran&amp;quot;, &amp;quot;Korea, South&amp;quot;, &amp;quot;Spain&amp;quot;, &amp;quot;US&amp;quot;)) %&amp;gt;%
  mutate(week = cut(date, &amp;quot;week&amp;quot;, start.on.monday = FALSE))

country_dat %&amp;gt;%
  ggplot(aes(x = confirmed/1000, y = week)) +
  geom_bar(stat = &amp;quot;identity&amp;quot;, position = &amp;quot;dodge&amp;quot;, fill = &amp;quot;blue4&amp;quot;) + 
  facet_wrap(~ country_region) +
  labs(y = &amp;quot;&amp;quot;, x = &amp;quot;Confirmed Cases (in thousands)&amp;quot;) + 
  scale_x_continuous(labels = comma) +
  theme_bw() +
  theme(legend.position = &amp;quot;none&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/Coronavirus_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;960&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;deaths&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Deaths&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country_dat %&amp;gt;%
  ggplot(aes(x = deaths/1000, y = week)) +
  geom_bar(stat = &amp;quot;identity&amp;quot;, position = &amp;quot;dodge&amp;quot;, fill = &amp;quot;red4&amp;quot;) + 
  facet_wrap(~ country_region) +
  labs(y = &amp;quot;&amp;quot;, x = &amp;quot;Deaths (in thousands)&amp;quot;) + 
  scale_x_continuous(labels = comma) +
  theme_bw() +
  theme(legend.position = &amp;quot;none&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/Coronavirus_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;960&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;recoveries&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Recoveries&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;country_dat %&amp;gt;%
  ggplot(aes(x = recoveries/1000, y = week)) +
  geom_bar(stat = &amp;quot;identity&amp;quot;, position = &amp;quot;dodge&amp;quot;, fill = &amp;quot;green4&amp;quot;) + 
  facet_wrap(~ country_region) +
  labs(y = &amp;quot;&amp;quot;, x = &amp;quot;Recovered (in thousands)&amp;quot;) + 
  scale_x_continuous(labels = comma) +
  theme_bw() +
  theme(legend.position = &amp;quot;none&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/Coronavirus_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;960&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;confirmed-cases-trend&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Confirmed Cases Trend&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sum_dat &amp;lt;- country_dat %&amp;gt;%
  group_by(date, country_region) %&amp;gt;%
  summarize(confirmed = sum(confirmed)) %&amp;gt;%
  ungroup() %&amp;gt;%
  mutate(country_region = if_else(country_region == &amp;quot;Korea, South&amp;quot;, &amp;quot;S. Korea&amp;quot;, country_region))
  
sum_dat %&amp;gt;%  
  ggplot(aes(x = date, y = confirmed, color = country_region)) +
  geom_line(size = .8) +
  geom_text(data = sum_dat %&amp;gt;% filter(date == last(date)), 
            aes(label = country_region, x = date + .1, 
                y = confirmed, color = country_region), 
            hjust = -.01) +
  scale_y_continuous(labels = comma, breaks = seq(0, 800000, 50000)) +
  xlim(ymd(&amp;quot;2020-01-22&amp;quot;), ymd(&amp;quot;2020-04-23&amp;quot;)) + 
  scale_color_brewer(type = &amp;quot;qual&amp;quot;, palette = 2) + 
  labs(x = &amp;quot;&amp;quot;, y = &amp;quot;Confirmed Cases&amp;quot;, color = &amp;quot;Country&amp;quot;) + 
  ggtitle(&amp;quot;Confirmed Cases as of April 18, 2020&amp;quot;) +
  theme_bw() +
  theme(legend.position = &amp;quot;none&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/Coronavirus_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;768&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Unemployment Claims COVID-19</title>
      <link>/post/unemployment_claims/</link>
      <pubDate>Sat, 18 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/unemployment_claims/</guid>
      <description>


&lt;p&gt;In this post I am visualizing and analyzing the unprecedented increase in the number of unemployment claims filed in the US after the lockdown due to COVID 19 pandemic. I am retrieving the data from the &lt;code&gt;tidyquant&lt;/code&gt; package.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(CausalImpact)
library(tidyverse)
library(scales)
library(tidyquant)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;icsa-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;ICSA Data&lt;/h2&gt;
&lt;p&gt;Initial unemployment claims from the first date available, 1967:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;icsa_dat &amp;lt;- &amp;quot;ICSA&amp;quot; %&amp;gt;%
  tq_get(get = &amp;quot;economic.data&amp;quot;,  
         from = &amp;quot;1967-01-07&amp;quot;) %&amp;gt;%
  rename(claims = price)


glimpse(icsa_dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Rows: 2,780
## Columns: 3
## $ symbol &amp;lt;chr&amp;gt; &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;, &amp;quot;ICSA&amp;quot;…
## $ date   &amp;lt;date&amp;gt; 1967-01-07, 1967-01-14, 1967-01-21, 1967-01-28, 1967-02-04, 1…
## $ claims &amp;lt;int&amp;gt; 208000, 207000, 217000, 204000, 216000, 229000, 229000, 242000…&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;icsa_dat %&amp;gt;%
  ggplot(aes(x = date, y = claims)) + 
  geom_line(color = &amp;quot;blue&amp;quot;) + 
  scale_y_continuous(labels = comma) +
  labs(x = &amp;quot;Date&amp;quot;, y = &amp;quot;Claims&amp;quot;) + 
  ggtitle(&amp;quot;Unemployment Claims: 1967 to 2020&amp;quot;) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/unemployment_claims_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;comparison-to-2008-recession&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Comparison to 2008 Recession&lt;/h2&gt;
&lt;p&gt;In the graph below, I only selected 2008 to 2020. We can compare the unemployment claims during the 2008 recession to the number of claims filed during the COVID-19 lockdown. What is happening now is preposterous.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;icsa_dat %&amp;gt;%
  mutate(year = year(date)) %&amp;gt;%
  filter(year &amp;gt; 2007) %&amp;gt;%
  ggplot(aes(x = date, y = claims)) + 
  geom_line(color = &amp;quot;blue&amp;quot;) + 
  scale_y_continuous(labels = comma) +
  labs(x = &amp;quot;Date&amp;quot;, y = &amp;quot;Claims&amp;quot;) + 
  ggtitle(&amp;quot;Unemployment Claims: 2008 to 2020&amp;quot;) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/unemployment_claims_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;causal-inference&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Causal Inference&lt;/h2&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;
&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;
Sometimes &lt;a href=&#34;https://twitter.com/hashtag/causalinference?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#causalinference&lt;/a&gt; is simple.&lt;br&gt;&lt;br&gt;“What&#39;s the immediate causal effect of the &lt;a href=&#34;https://twitter.com/hashtag/COVID19?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#COVID19&lt;/a&gt; lockdowns on unemployment?”&lt;br&gt;&lt;br&gt;The answer is “Unprecedented”. &lt;br&gt;&lt;br&gt;We know we&#39;re in deep trouble when a time series is all we need. &lt;a href=&#34;https://t.co/cXK0wLw3no&#34;&gt;https://t.co/cXK0wLw3no&lt;/a&gt; &lt;a href=&#34;https://t.co/kS4PvVwihM&#34;&gt;pic.twitter.com/kS4PvVwihM&lt;/a&gt;
&lt;/p&gt;
— Miguel Hernán (&lt;span class=&#34;citation&#34;&gt;@_MiguelHernan&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/_MiguelHernan/status/1244215937978576898?ref_src=twsrc%5Etfw&#34;&gt;March 29, 2020&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;Below, I use the &lt;code&gt;CausalImpact&lt;/code&gt; package to run a Bayesian structural time-series analysis. For more information on the package, please see this &lt;a href=&#34;https://cran.r-project.org/web/packages/CausalImpact/vignettes/CausalImpact.html&#34;&gt;vignette&lt;/a&gt;. Typically, it would be good to add covariates in the analysis but the data does not have any and given the rate of increase, I highly doubt that the inclusion of covariates would matter much. It would be interesting to compare the number of claims filed in US versus the number of claims filed in country with better social and economic security systems in place (perhaps the Netherlands). The impact of COVID-19 lockdowns on the number of unemployment claims is probably exacerbated by the lack of social and economic security in the US. In addition, due to employer based healthcare system in the US, millions of people have lost or are going to lose health insurance. Now more than every we need Medicare for All, $2000 a month stimulus, Green New Deal. The impact of climate change will be worse.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dates &amp;lt;- icsa_dat %&amp;gt;% 
  pull(date)

pre_period &amp;lt;- c(dates[1], dates[2776])
post_period &amp;lt;- c(dates[2777], dates[2780])

dat &amp;lt;- icsa_dat %&amp;gt;%
  select(date, y = claims)

impact &amp;lt;- CausalImpact(dat, pre_period, post_period)

# summary(impact, &amp;quot;report&amp;quot;)  # this creates the following report :)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;analysis-report-causalimpact&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Analysis report: CausalImpact&lt;/h2&gt;
&lt;p&gt;Below is the report generated by &lt;code&gt;CausalImpact&lt;/code&gt; with some edits by me.&lt;/p&gt;
&lt;p&gt;During the post-COVID lockdown period, the average number of unemployment claims filed was approximately 5.51M. By contrast, in the absence of the lockdown, we would have expected an average number of claims of 0.25M. The 95% interval of this counterfactual prediction is [0.22M, 0.29M]. Subtracting this prediction from the observed response yields an estimate of the causal effect the intervention had on the response variable. This effect is 5.25M with a 95% interval of [5.22M, 5.29M].&lt;/p&gt;
&lt;p&gt;Summing up the individual data points during the post-lockdown period, the total number of unemployment claims filed equaled 22.03M. By contrast, had the intervention not taken place, we would have expected a sum of 1.01M. The 95% interval of this prediction is [0.88M, 1.15M].&lt;/p&gt;
&lt;p&gt;The above results are given in terms of absolute numbers. In relative terms, the number of unemployment claims showed an increase of +2073%. The 95% interval of this percentage is [+2059%, +2086%].&lt;/p&gt;
&lt;p&gt;The probability of obtaining this effect by chance is very small (Bayesian one-sided tail-area probability p = 0.001). This means the causal effect can be considered statistically significant.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
